pipeline{
  agent any
  stages{
    stage('UnitTest'){
      steps{
        sh 'mvn clean test'
      }
    }
    
    stage('Package'){
      steps{
        sh 'mvn clean package'
      }
    }
    stage('Docker')
    {
      steps{
        sh 'sudo su'
        sh 'docker build -t way2home:1.0 . '
      }
    }
    stage('Deploy') {
      steps{
        sh 'sudo su'
        sh 'docker run -dit -p 8091:8080 jetty:9.3.0 '
      }
    }
  }
  
}
